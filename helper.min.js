var helper={Objects:{timerID:0},Config:{webSocketTimeout:15e3,xhrTimeout:30},SelectDom:{getById:function(e){return document.getElementById(e)},getByClass:function(e){return document.getElementsByClassName(e)}},Ajax:{isScriptLoaded:function(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++)if(t[n].getAttribute("src")===e)return!0;return!1},loadScriptAsync:function(e,t){try{if(helper.Ajax.isScriptLoaded(e))t&&t();else{var n=document.createElement("script");n.type="text/javascript",n.async=!1,n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t&&t())}:n.onload=function(){t&&t()},n.src=e,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(n)}}catch(e){console.log(e)}},isCssLoaded:function(e){for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++)if(t[n].getAttribute("href")===e)return!0;return!1},loadCssAsync:function(e,t){try{if(helper.Ajax.isCssLoaded(e))t&&t();else{var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t&&t())}:n.onload=function(){t&&t()},n.href=e,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(n)}}catch(e){console.log(e)}},GetReq:function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200<=n.status&&n.status<300?t&&t():console.log("The request failed!"))},n.open("GET",e),n.send()},PostReq:function(e,t,n){var o="string"==typeof t?t:Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"),r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return r.open("POST",e),r.onreadystatechange=function(){3<r.readyState&&200===r.status&&n&&n(r.responseText)},r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(o),r}},Event:{events:{},sub:function(e,t){helper.Event.events[e]=helper.Event.events[e]||[],helper.Event.events[e].push(t)},remove:function(e,t){if(helper.Event.events[e])for(var n=0;n<helper.Event.events[e].length;n++)if(helper.Event.events[e][n]===t){helper.Event.events[e].splice(n,1);break}},pub:function(e,t){helper.Event.events[e]&&helper.Event.events[e].forEach(function(e){e(t)})},clear:function(){delete helper.Event.events,helper.Event.events={}},trigger:function(e){var t=document.createEvent(e);t.initEvent(e,!0,!0),window.dispatchEvent(t)},bindLive:function(r,e,c,i){helper.Event.addEvent(i||document,e,function(e){var t=(i||document).querySelectorAll(r);if(t){for(var n=e.target||e.srcElement,o=-1;n&&-1===(o=Array.prototype.indexOf.call(t,n));)n=n.parentElement;-1<o&&c.call(n,e)}})},addEvent:function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)}},Util:{isInIframe:function(){return window.location!==window.parent.location},getProperties:function(e){return Object.keys(e)},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},domReady:function(e){if("function"==typeof e)return"interactive"===document.readyState||"complete"===document.readyState?e():void document.addEventListener("DOMContentLoaded",e,!1)},arrayUniqneens:function(n){return n.filter(function(e,t){return n.indexOf(e)>=t})},disableRightClick:function(){document.addEventListener("contextmenu",function(e){e.preventDefault()})}},Screen:{isInViewport:function(e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},scrollTop:function(e){var t=setInterval(function(){e&&"function"==typeof e&&(0===window.pageYOffset&&(clearInterval(t),e&&e()),window.scrollTo(0,window.pageYOffset-50))},16.66)},scrollToBottom:function(){window.scrollTo(0,document.body.scrollHeight)},scrollToElem:function(e){e.scrollIntoView(!0)}},Manipulation:{removeElement:function(e){e.parentNode.removeChild(e)},insertAfter:function(e,t){e.insertAdjacentHTML("afterend",t)}},QueryString:{build:function(e){if("string"==typeof e)return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},getParams:function(e){var t={},n=document.createElement("a");n.href=e||window.location.href;var o=n.search.substring(1).split("&");if(o.length<2)return t;for(var r=0;r<o.length;r++){var c=o[r].split("=");t[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return t}},Cookie:{add:function(e,t,n){var o="";if(n){var r=new Date;r.setTime(r.getTime()+60*n*1e3),o="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+o+"; path=/"},get:function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()},remove:function(e){document.cookie=e+"=; Max-Age=-99999999;"}},Storage:{local:{insert:function(e,t){localStorage.setItem(e,t)},remove:function(e){localStorage.removeItem(e)},get:function(e){return localStorage.getItem(e)},list:function(){for(var e=[],t=Object.keys(localStorage),n=t.length;n--;)e.push(localStorage.getItem(t[n]));return e},clear:function(){localStorage.clear()}},session:{insert:function(e,t){sessionStorage.setItem(e,t)},remove:function(e){sessionStorage.removeItem(e)},get:function(e){return sessionStorage.getItem(e)},list:function(){for(var e=[],t=Object.keys(sessionStorage),n=t.length;n--;)e.push(sessionStorage.getItem(t[n]));return e},clear:function(){sessionStorage.clear()}}},Adblock:function(e){var t=!1,n=document.createElement("div");n.innerHTML="&nbsp;",n.className="adsbox",document.body.appendChild(n),window.setTimeout(function(){0===n.offsetHeight&&(t=!0),n.remove(),console.log("AdBlock Enabled? ",t),e&&e()},100)},WebSocket:{ws:void 0,isSupported:function(){return!!window.WebSocket},keepAlive:function(){helper.Objects.webSocket&&(helper.Objects.webSocket.readyState===helper.Objects.webSocket.OPEN&&helper.Objects.webSocket.send(""),helper.Objects.timerID=setTimeout(helper.WebSocket.keepAlive,helper.Config.webSocketTimeout))},getState:function(){return helper.WebSocket.ws.state},open:function(e,t){helper.WebSocket.ws=new WebSocket(e),helper.WebSocket.ws.onmessage=helper.WebSocket.messageReceived,helper.WebSocket.ws.onclose=helper.WebSocket.closeCallback,helper.WebSocket.ws.onerror=helper.WebSocket.error,helper.WebSocket.ws.onopen=function(e){helper.WebSocket.onOpen(e),t&&t()}},onOpen:function(e){console.log("WebSocket conntection status: "+e.srcElement.readyState)},closeConnection:function(){void 0!==helper.WebSocket.ws&&(helper.WebSocket.ws.close(),console.log("websocket closed"))},closeCallback:function(e){void 0!==helper.WebSocket.ws&&e&&e()},messageReceived:function(e){void 0!==helper.WebSocket.ws&&console.log("Server : "+e.data)},messageSend:function(e){void 0!==helper.WebSocket.ws&&helper.WebSocket.ws.send(e)},error:function(e){console.log("Socket error :"+e.data)}}};String.prototype.trim=function(){return this.replace(/^s+|s+$/g,"")},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.removeNonASCII=function(){return this.replace(/[^\x20-\x7E]/g,"")},String.prototype.stripHTMLTags=function(){return this.replace(/<[^>]*>/g,"")};