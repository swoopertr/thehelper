var helper={init:function(){localStorage||delete helper.Storage.local,sessionStorage||delete helper.Storage.session},Objects:{timerID:0},Config:{xhrTimeout:30},SelectDom:{getById:function(a){return document.getElementById(a)},getByClass:function(a){return document.getElementsByClassName(a)}},QueryString:{build:function(a){if("string"==typeof a)return a;var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},getParams:function(a){var b={},c=document.createElement("a");c.href=a||window.location.href;var d=c.search.substring(1),e=d.split("&");if(2>e.length)return b;for(var f,g=0;g<e.length;g++)f=e[g].split("="),b[decodeURIComponent(f[0])]=decodeURIComponent(f[1]);return b}},Ajax:{isScriptLoaded:function(a){for(var b=document.getElementsByTagName("script"),c=0;c<b.length;c++)if(b[c].getAttribute("src")===a)return!0;return!1},loadScriptAsync:function(a,b){try{if(helper.Ajax.isScriptLoaded(a))b&&b();else{var c=document.createElement("script");c.type="text/javascript",c.async=!1,c.readyState?c.onreadystatechange=function(){("loaded"===c.readyState||"complete"===c.readyState)&&(c.onreadystatechange=null,b&&b())}:c.onload=function(){b&&b()},c.src=a,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(c)}}catch(a){console.log(a)}},isCssLoaded:function(a){for(var b=document.getElementsByTagName("link"),c=0;c<b.length;c++)if(b[c].getAttribute("href")===a)return!0;return!1},loadCssAsync:function(a,b){try{if(helper.Ajax.isCssLoaded(a))b&&b();else{var c=document.createElement("link");c.type="text/css",c.rel="stylesheet",c.readyState?c.onreadystatechange=function(){("loaded"===c.readyState||"complete"===c.readyState)&&(c.onreadystatechange=null,b&&b())}:c.onload=function(){b&&b()},c.href=a,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(c)}}catch(a){console.log(a)}},GetReq:function(a,b,c){var d=new XMLHttpRequest;if(d.onreadystatechange=function(){4!==d.readyState||(200<=d.status&&300>d.status?c&&c():console.log("The request failed!"))},d.open("GET",a),b)for(var e=b.length,f=0;f<e;f++)d.setRequestHeader(header[f].name,header[f].value);d.send()},PostReq:function(a,b,c,d){var e;if("string"==typeof b)e=b;else{var f=[];for(var g in b)f.push(encodeURIComponent(g)+"="+encodeURIComponent(b[g]));e=f.join("&")}var h=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(h.open("POST",a),h.onreadystatechange=function(){3<h.readyState&&200===h.status&&d&&d(h.responseText)},h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c)for(var j=c.length,k=0;k<j;k++)h.setRequestHeader(header[k].name,header[k].value);return h.send(e),h}},Cookie:{add:function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+1e3*(60*c)),d="; expires="+e.toUTCString()}document.cookie=a+"="+(b||"")+d+"; path=/"},get:function(a){var b="; "+document.cookie,c=b.split("; "+a+"=");if(2===c.length)return c.pop().split(";").shift()},remove:function(a){document.cookie=a+"=; Max-Age=-99999999;"}},Event:{events:{},sub:function(a,b){helper.Event.events[a]=helper.Event.events[a]||[],helper.Event.events[a].push(b)},remove:function(a,b){if(helper.Event.events[a])for(var c=helper.Event.events[a],d=0;d<c;d++)if(helper.Event.events[a][d]===b){helper.Event.events[a].splice(d,1);break}},pub:function(a,b){helper.Event.events[a]&&helper.Event.events[a].forEach(function(a){a(b)})},clear:function(){delete helper.Event.events,helper.Event.events={}},trigger:function(a){var b=document.createEvent(a);b.initEvent(a,!0,!0),window.dispatchEvent(b)},bindLive:function(a,b,c,d){helper.Event.addEvent(d||document,b,function(b){var e=(d||document).querySelectorAll(a);if(e){for(var f=b.target||b.srcElement,g=-1;f&&-1===(g=Array.prototype.indexOf.call(e,f));)f=f.parentElement;-1<g&&c.call(f,b)}})},addEvent:function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c)}},Screen:{isInViewport:function(a){var b=a.getBoundingClientRect();return 0<=b.top&&0<=b.left&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)},scrollTop:function(a){var b=setInterval(function(){a&&"function"==typeof a&&(0===window.pageYOffset&&(clearInterval(b),a&&a()),window.scrollTo(0,window.pageYOffset-50))},16.66)},scrollToBottom:function(){window.scrollTo(0,document.body.scrollHeight)},scrollToElem:function(a){a.scrollIntoView(!0)}},Storage:{local:{insert:function(a,b){localStorage.setItem(a,b)},remove:function(a){localStorage.removeItem(a)},get:function(a){return localStorage.getItem(a)},list:function(){for(var a=[],b=Object.keys(localStorage),c=b.length;c--;)a.push(localStorage.getItem(b[c]));return a},clear:function(){localStorage.clear()}},session:{insert:function(a,b){sessionStorage.setItem(a,b)},remove:function(a){sessionStorage.removeItem(a)},get:function(a){return sessionStorage.getItem(a)},list:function(){for(var a=[],b=Object.keys(sessionStorage),c=b.length;c--;)a.push(sessionStorage.getItem(b[c]));return a},clear:function(){sessionStorage.clear()}}},Util:{removeElement:function(a){a.parentNode.removeChild(a)},insertAfter:function(a,b){a.insertAdjacentHTML("afterend",b)},isInIframe:function(){return window.location!==window.parent.location},getProperties:function(a){return Object.keys(a)},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},domReady:function(a){return"function"==typeof a?"interactive"===document.readyState||"complete"===document.readyState?a():void document.addEventListener("DOMContentLoaded",a,!1):void 0},disableRightClick:function(){document.addEventListener("contextmenu",function(a){a.preventDefault()})},adblock:function(a){var b=!1,c=document.createElement("div");c.innerHTML="&nbsp;",c.className="adsbox",document.body.appendChild(c),window.setTimeout(function(){0===c.offsetHeight&&(b=!0),c.remove(),console.log("AdBlock Enabled? ",b),a&&a()},100)}},WebSocket:{state:{CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},webSocketTimeout:15e3,ws:void 0,isSupported:function(){return!!window.WebSocket},keepAlive:function(){helper.WebSocket.ws&&(helper.WebSocket.ws.readyState===helper.WebSocket.state.OPEN&&helper.WebSocket.ws.send(""),helper.Objects.timerID=setTimeout(helper.WebSocket.keepAlive,helper.WebSocket.webSocketTimeout))},getState:function(){return helper.WebSocket.ws.state},open:function(a,b){helper.WebSocket.ws=new WebSocket(a),helper.WebSocket.ws.onmessage=helper.WebSocket.messageReceived,helper.WebSocket.ws.onclose=helper.WebSocket.closeCallback,helper.WebSocket.ws.onerror=helper.WebSocket.error,helper.WebSocket.ws.onopen=function(a){helper.WebSocket.onOpen(a),b&&b()}},onOpen:function(a){console.log("WebSocket conntection status: "+a.srcElement.readyState)},closeConnection:function(){"undefined"!=typeof helper.WebSocket.ws&&(helper.WebSocket.ws.close(),console.log("websocket closed"))},closeCallback:function(a){"undefined"!=typeof helper.WebSocket.ws&&a&&a()},messageReceived:function(a){"undefined"!=typeof helper.WebSocket.ws&&console.log("Server : "+a.data)},messageSend:function(a){"undefined"!=typeof helper.WebSocket.ws&&helper.WebSocket.ws.send(a)},error:function(a){console.log("Socket error :"+a.data)}}};String.prototype.trim=function(){return this.replace(/^s+|s+$/g,"")},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.removeNonASCII=function(){return this.replace(/[^\x20-\x7E]/g,"")},String.prototype.stripHTMLTags=function(){return this.replace(/<[^>]*>/g,"")},helper.init();